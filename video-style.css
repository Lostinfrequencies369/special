/* ==========================================
   RESET & BASE STYLES
   ========================================== */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body, html {
    width: 100%;
    height: 100%;
    overflow: hidden;
    background-color: #000;
    position: fixed;
}

body {
    position: relative;
}

/* ==========================================
   FLICKER OVERLAY EFFECT
   ========================================== */

.flicker-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(
        circle at center, 
        rgba(255, 240, 200, 0.7), 
        rgba(255, 230, 150, 0.4) 40%,
        transparent 70%
    );
    opacity: 0;
    z-index: 10;
    pointer-events: none;
    animation: flicker 0.6s ease-in-out;
}

/* ==========================================
   MAIN VIDEO - SMART RESPONSIVE FIT
   ========================================== */

.main-video {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: contain;
    object-position: center center;
    z-index: 1;
    background-color: #000;
    user-select: none;
    -webkit-user-select: none;
    -webkit-touch-callout: none;
}

/* ==========================================
   MOBILE PORTRAIT - PERFECT FIT
   ========================================== */

@media (orientation: portrait) {
    .main-video {
        object-fit: cover;
    }
}

@media (max-width: 768px) {
    .main-video {
        object-fit: cover;
    }
}

/* ==========================================
   DESKTOP LANDSCAPE - FULL VIDEO VISIBLE
   ========================================== */

@media (orientation: landscape) and (min-width: 1024px) {
    .main-video {
        object-fit: contain;
    }
}

@media (min-aspect-ratio: 21/9) {
    .main-video {
        object-fit: contain;
    }
}

/* ==========================================
   TABLET ADJUSTMENTS
   ========================================== */

@media (min-width: 768px) and (max-width: 1024px) and (orientation: portrait) {
    .main-video {
        object-fit: cover;
    }
}

@media (min-width: 768px) and (max-width: 1024px) and (orientation: landscape) {
    .main-video {
        object-fit: contain;
    }
}

/* ==========================================
   ASPECT RATIO SMART FIT
   ========================================== */

@media (min-aspect-ratio: 16/9) {
    .main-video {
        object-fit: contain;
    }
}

@media (max-aspect-ratio: 9/16) {
    .main-video {
        object-fit: cover;
    }
}

@media (min-aspect-ratio: 9/16) and (max-aspect-ratio: 16/9) {
    .main-video {
        object-fit: cover;
    }
}

/* ==========================================
   FLICKER ANIMATION
   ========================================== */

@keyframes flicker {
    0% { opacity: 0; }
    8% { opacity: 1; }
    16% { opacity: 0.3; }
    24% { opacity: 1; }
    32% { opacity: 0.5; }
    40% { opacity: 1; }
    48% { opacity: 0.4; }
    56% { opacity: 1; }
    64% { opacity: 0.6; }
    72% { opacity: 1; }
    80% { opacity: 0.7; }
    88% { opacity: 1; }
    100% { opacity: 0; }
}

/* ==========================================
   PERFORMANCE OPTIMIZATIONS
   ========================================== */

.main-video {
    will-change: transform;
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
}

/* ==========================================
   HIDE VIDEO CONTROLS
   ========================================== */

.main-video::-webkit-media-controls {
    display: none !important;
}

.main-video::-webkit-media-controls-enclosure {
    display: none !important;
}

/* ==========================================
   ACCESSIBILITY
   ========================================== */

@media (prefers-reduced-motion: reduce) {
    .flicker-overlay {
        animation: none;
        opacity: 0;
    }
}

/* ==========================================
   SMALL MOBILE DEVICES
   ========================================== */

@media (max-width: 375px) {
    .main-video {
        object-fit: cover;
    }
}

/* ==========================================
   LARGE DESKTOP (4K)
   ========================================== */

@media (min-width: 2560px) {
    .main-video {
        object-fit: contain;
    }
}
```

---

## **SUMMARY OF ALL CHANGES:**

### **✅ Changed Files:**

1. **index.html** → Added inline reset script
2. **switch-style.css** → Added force reset CSS rules at top
3. **script.js** → Added resetSwitch function + pageshow event

### **❌ Unchanged Files:**

4. **video.html** → No changes needed
5. **video-style.css** → No changes needed

---

## **FINAL FILE STRUCTURE:**
```
D:\valentine-switch-video\
│
├── index.html           ✅ UPDATED
├── video.html           ⚪ No changes
├── switch-style.css     ✅ UPDATED
├── video-style.css      ⚪ No changes
├── script.js            ✅ UPDATED
└── video.mp4            ← Your video
```

---

## **TESTING:**
```
1. Open index.html → Switch UPAR (OFF) ✅
2. Click switch → Switch NEECHE (ON) ✅
3. Redirects to video.html ✅
4. Press BACK ⬅️
5. Switch automatically UPAR (OFF) ✅ ← FIX APPLIED!
6. Can click again → Works ✅